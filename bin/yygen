#!/usr/bin/env node

var yargs = require('yargs');

var argv = yargs
  .version(require('../package').version, '-v, --version')
  .alias('t', 'type')
  .default('t', 'ts')
  .alias('n', 'name')
  .describe('n', 'choose your project type what you need')
  .alias('o', 'output')
  .describe('o', 'choose your project path')
  .help()
  .argv;

var path = require('path');
var fse = require('fs-extra');

function yygen(cfg) {
  var name = cfg.name;
  var output = cfg.output;
  var type = cfg.type;

  var cwd = process.cwd();

  var pIn = path.join(__dirname, '..', 'templates', type);
  var pOut;

  if (name) {
    pOut = output ? path.join(output, name) : path.join(cwd, name);
  } else {
    pOut = output ? path.join(output) : path.join(cwd);
  }

  fse.copy(pIn, pOut, {
    overwrite: true,
    recursive: true
  });
};

yygen(argv);
